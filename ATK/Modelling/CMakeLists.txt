
FILE(GLOB ATK_MODELLING_SRC *.cpp)
FILE(GLOB ATK_MODELLING_HEADERS *.h)

if(FLEX_FOUND)
  FLEX_TARGET(ATK_MODELLING_FLEX ${CMAKE_CURRENT_SOURCE_DIR}/generated/lexer.l ${CMAKE_CURRENT_BINARY_DIR}/lexer.c)
  LIST(APPEND ATK_MODELLING_SRC ${CMAKE_CURRENT_SOURCE_DIR}/generated/lexer.l)
  LIST(APPEND ATK_MODELLING_SRC ${FLEX_ATK_MODELLING_FLEX_OUTPUTS})
else(FLEX_FOUND)
  LIST(APPEND ATK_MODELLING_SRC ${CMAKE_CURRENT_SOURCE_DIR}/generated/lexer.c)
endif(FLEX_FOUND)

#if(BISON_FOUND)
#  BISON_TARGET(ATK_MODELLING_BISON ${CMAKE_CURRENT_SOURCE_DIR}/generated/parser.y ${CMAKE_CURRENT_BINARY_DIR}/parser.cpp)
#  LIST(APPEND ATK_MODELLING_SRC ${CMAKE_CURRENT_SOURCE_DIR}/generated/parser.y)
#  LIST(APPEND ATK_MODELLING_SRC ${BISON_ATK_MODELLING_BISON_OUTPUTS})
#else(BISON_FOUND)
#  LIST(APPEND ATK_MODELLING_SRC ${CMAKE_CURRENT_SOURCE_DIR}/generated/parser.cpp)
#endif(BISON_FOUND)

if(BISON_FOUND AND FLEX_FOUND)
#  ADD_FLEX_BISON_DEPENDENCY(ATK_MODELLING_FLEX ATK_MODELLING_BISON)
endif(BISON_FOUND AND FLEX_FOUND)

SET(ATK_MODELLING_LIBRARIES ${ATK_CORE_LIBRARY})
SET(ATK_MODELLING_INCLUDE ${ATK_INCLUDE_DIRS} ${Boost_INCLUDE_DIR})

if(ENABLE_LOG)
  LIST(APPEND ATK_MODELLING_DEFINITIONS -DENABLE_LOG)
  LIST(APPEND ATK_MODELLING_LIBRARIES ${Boost_LOG_LIBRARY})
endif(ENABLE_LOG)

SET(ATK_MODELLING_NAME ATKModelling)
SET(ATK_MODELLING_FOLDER Modelling)

ATK_add_library(ATK_MODELLING)
